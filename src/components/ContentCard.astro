---
interface Props {
  title: string;
  description?: string;
  href: string;
  date?: Date;
  tags?: string[];
}

const { title, description, href, date, tags = [] } = Astro.props;

const formatDate = (d: Date) => d.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'short',
  day: 'numeric',
});
---

<a href={href} class="group block p-6 rounded-lg border border-border hover:border-accent bg-surface transition-colors">
  <h3 class="text-lg font-semibold group-hover:text-accent group-hover:scale-105 origin-left transition-all">
    {title}
  </h3>
  {description && (
    <p class="mt-2 text-sm text-text-secondary line-clamp-2">
      {description}
    </p>
  )}
  <div class="mt-3 flex flex-wrap items-center gap-3">
    {date && (
      <time class="text-xs text-text-muted" datetime={date.toISOString()}>
        {formatDate(date)}
      </time>
    )}
    {tags.length > 0 && tags.slice(0, 3).map((tag) => (
      <span class="text-xs px-2 py-0.5 rounded-full bg-tag-bg text-tag-text">
        {tag}
      </span>
    ))}
  </div>
</a>
